!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="8fd32a90-964e-41a6-ae3b-b412ffeafd39",e._sentryDebugIdIdentifier="sentry-dbid-8fd32a90-964e-41a6-ae3b-b412ffeafd39")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3613],{84569:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/message-center/user-notification",function(){return t(63002)}])},35037:function(e,n,t){"use strict";t.d(n,{XT:function(){return l},qg:function(){return u}});var r=t(45166),i=t(98703),a=t(11527),u=function(){return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,a.jsx)("path",{d:"M5.99065 8.07955C6.0146 8.00994 6.05435 7.94457 6.1099 7.88901L9.64543 4.35348C9.84069 4.15822 10.1573 4.15822 10.3525 4.35348L10.7061 4.70703C10.9014 4.90229 10.9014 5.21888 10.7061 5.41414L7.78722 8.33301L10.6454 11.1912C10.8407 11.3865 10.8407 11.7031 10.6454 11.8983L10.2919 12.2519C10.0966 12.4471 9.78004 12.4471 9.58477 12.2519L6.04924 8.71635C5.87599 8.5431 5.85646 8.27433 5.99065 8.07955Z",fill:"currentColor"})})},s={MESSAGE_CENTER:"1",USER_NOTIFICATION:"1-1",SYSTEM_NOTIFICATION:"1-2"},o={key:s.MESSAGE_CENTER,label:"消息通知",icon:(0,a.jsx)(function(e){var n=e.isActive;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.8745 15C11.0816 15 11.2495 15.1679 11.2495 15.375V16.125C11.2495 16.3321 11.0816 16.5 10.8745 16.5H7.12451C6.9174 16.5 6.74951 16.3321 6.74951 16.125V15.375C6.74951 15.1679 6.9174 15 7.12451 15H10.8745ZM10.1245 1.125C10.3316 1.125 10.4995 1.29289 10.4995 1.5L10.4998 2.07019C13.0875 2.75782 14.9995 5.18269 14.9995 8.06853V12.375H16.1245C16.3316 12.375 16.4995 12.5429 16.4995 12.75V13.5C16.4995 13.7071 16.3316 13.875 16.1245 13.875H1.87451C1.6674 13.875 1.49951 13.7071 1.49951 13.5V12.75C1.49951 12.5429 1.6674 12.375 1.87451 12.375H2.99951V8.06853C2.99951 5.18255 4.91173 2.75759 7.49964 2.07009L7.49951 1.5C7.49951 1.29289 7.6674 1.125 7.87451 1.125H10.1245Z",fill:void 0!==n&&n?"#1E59A6":"#627084"})})},{})},c=[{key:s.USER_NOTIFICATION,label:"用户通知",link:"/message-center/user-notification"},{key:s.SYSTEM_NOTIFICATION,label:"系统通知",link:"/message-center/system-notification"}],l=function(e,n){return[(0,i._)((0,r._)({},o),{children:(c||[]).map(function(t){return(0,i._)((0,r._)({},t),{unread:t.key===s.SYSTEM_NOTIFICATION?e>0:n>0})})})]}},18602:function(e,n,t){"use strict";t.r(n),t.d(n,{InitialParams:function(){return C}});var r=t(58177),i=t(2106),a=t(96583),u=t(11527),s=t(45670),o=t(80552),c=t.n(o),l=t(14661),f=t(75579),d=t(98939),_=t(50959),h=t(52442),g=t(24413),p=t(5367),m=t(35037),y=c()(function(){return Promise.all([t.e(5223),t.e(4964),t.e(9127),t.e(443),t.e(4854),t.e(7225),t.e(1638),t.e(8063),t.e(6347)]).then(t.bind(t,22113))},{loadableGenerated:{webpack:function(){return[22113]}}}),C={message_category:"".concat(d.dF.Notification),not_read:!1,page:1,page_size:10};n.default=(0,s.Z)(function(){var e,n,t=(0,p.T)(),s=(0,i._)((0,_.useState)(C),2),o=s[0],c=s[1],b=(0,p.C)(function(e){return e.global}).notReadCount,v=(0,l.Z)(function(){return t((0,g.Bf)()),(0,f.uJ)(o)},{refreshDeps:[o]}),w=v.loading,I=v.data,T=v.runAsync,E=(0,l.Z)(function(e){return(0,f.iz)(e)},{manual:!0}),N=E.loading,A=E.runAsync,S=(e=(0,r._)(function(e){return(0,a.Jh)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,A({notification_ids:[e],message_category:[d.dF.Notification]})];case 1:case 2:return n.sent(),[3,3];case 3:return[2]}})}),function(n){return e.apply(this,arguments)}),k=(n=(0,r._)(function(){var e,n;return(0,a.Jh)(this,function(r){switch(r.label){case 0:if(r.trys.push([0,4,,5]),!(n=null==I?void 0:null===(e=I.template_infos)||void 0===e?void 0:e.filter(function(e){return e.not_read}).map(function(e){return e.notification_id}))||n.length<=0)return[2];return[4,A({notification_ids:n,message_category:[d.dF.Notification]})];case 1:return r.sent(),[4,T()];case 2:return r.sent(),t((0,g.Bf)()),[4,(0,h.Kb)("已将消息通知标为已读。")];case 3:case 4:return r.sent(),[3,5];case 5:return[2]}})}),function(){return n.apply(this,arguments)});return(0,u.jsx)(y,{data:I,title:"系统通知",defaultSelectedKeys:["1-2"],menuItems:(0,m.XT)(b.system,b.user),loading:w||N,params:o,setParams:c,handleAllRead:k,handleExposure:S,showSelectUnread:!1})})},63002:function(e,n,t){"use strict";t.r(n);var r=t(58177),i=t(45166),a=t(98703),u=t(2106),s=t(96583),o=t(11527),c=t(45670),l=t(80552),f=t.n(l),d=t(50959),_=t(14661),h=t(75579),g=t(98939),p=t(35114),m=t(52442),y=t(18602),C=t(24413),b=t(5367),v=t(35037),w=f()(function(){return Promise.all([t.e(5223),t.e(4964),t.e(9127),t.e(443),t.e(4854),t.e(7225),t.e(1638),t.e(8063),t.e(6347)]).then(t.bind(t,22113))},{loadableGenerated:{webpack:function(){return[22113]}}}),I=(0,a._)((0,i._)({},y.InitialParams),{message_category:"".concat(g.dF.Announcement)});n.default=(0,c.Z)(function(){var e,n,t=(0,b.T)(),i=(0,p.j)().jumpUrl,a=(0,u._)((0,d.useState)(I),2),c=a[0],l=a[1],f=(0,b.C)(function(e){return e.global}).notReadCount,y=(0,_.Z)(function(){return(0,h.uJ)(c)},{refreshDeps:[c]}),T=y.loading,E=y.data,N=y.runAsync,A=(0,_.Z)(function(e){return(0,h.iz)(e)},{manual:!0}),S=A.loading,k=A.runAsync,x=(e=(0,r._)(function(){var e,n;return(0,s.Jh)(this,function(r){switch(r.label){case 0:if(r.trys.push([0,4,,5]),!(n=null==E?void 0:null===(e=E.template_infos)||void 0===e?void 0:e.filter(function(e){return e.not_read}).map(function(e){return e.notification_id}))||n.length<=0)return[2];return[4,k({notification_ids:n,message_category:[g.dF.Announcement]})];case 1:return r.sent(),[4,N()];case 2:return r.sent(),t((0,C.Bf)()),[4,(0,m.Kb)("已将系统通知标为已读。")];case 3:case 4:return r.sent(),[3,5];case 5:return[2]}})}),function(){return e.apply(this,arguments)}),O=(n=(0,r._)(function(e){var n,r,a;return(0,s.Jh)(this,function(u){switch(u.label){case 0:n=null==e?void 0:e.notification_id,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,k({notification_ids:[n],message_category:[g.dF.Announcement]})];case 2:return u.sent(),t((0,C.Bf)()),[3,4];case 3:return u.sent(),[3,4];case 4:return a=null==(r=null==e?void 0:e.template_info)?void 0:r.template_id,i({path:"/message-center/user-notification/".concat(n,"/").concat(a)}),[4,N()];case 5:return u.sent(),[2]}})}),function(e){return n.apply(this,arguments)});return(0,o.jsx)(w,{data:E,title:"用户通知",defaultSelectedKeys:["1-1"],menuItems:(0,v.XT)(f.system,f.user),loading:T||S,params:c,setParams:l,onClick:O,handleAllRead:x})})}},function(e){e.O(0,[582,903,4661,5670,9774,2888,179],function(){return e(e.s=84569)}),_N_E=e.O()}]);